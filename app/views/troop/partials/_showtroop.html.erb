<%= link_to parent_troop.name, controller: "troop", action: "show", id: parent_troop.id %>
<%= count %>
<% if index != count - 1 %>
,
<% end %>

<% parent_troop.children.each_with_index do |troop, i| %>
  <% if i == 0 %>
    ->
  <% end %>
  <%= render partial: "troop/partials/showtroop", locals: { parent_troop: troop, index: i, count: troop.children.count } %>
<% end %>
